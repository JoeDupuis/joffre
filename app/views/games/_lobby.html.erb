<div class="container">
  <h1><%= @game.name %></h1>

  <div class="game-info">
    <p><strong>Game Code:</strong> <%= @game.game_code %></p>
    <% if @game.password_digest.present? %>
      <p><em>This game is password protected</em></p>
    <% end %>
  </div>

  <%= render "team_picker", game: @game %>

  <div class="actions">
    <% if @game.owner == Current.user && @game.players.count == 4 %>
      <%= button_to "Start Game", game_path(@game), method: :patch, params: { game: { status: :bidding } }, class: "button" %>
    <% end %>
    <% if @game.owner == Current.user %>
      <%= button_to "Delete Game", game_path(@game), method: :delete, class: "button" %>
    <% elsif (player = @game.players.find_by(user: Current.user)) %>
      <%= button_to "Quit Game", games_player_path(player), method: :delete, class: "button" %>
    <% end %>
    <%= link_to "Back to Dashboard", root_path, class: "button" %>
  </div>
</div>
