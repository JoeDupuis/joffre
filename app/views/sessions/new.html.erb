<%= form_with url: session_path do |form| %>
  <%= form.email_field :email_address, required: true, autofocus: true, autocomplete: "username", placeholder: "Enter your email address", value: params[:email_address] %><br>
  <%= form.password_field :password, required: true, autocomplete: "current-password", placeholder: "Enter your password", maxlength: 72 %><br>
  <%= form.submit "Sign in" %>
<% end %>
<br>

<%= link_to "Forgot password?", new_password_path %>
<br>
<%= link_to "Don't have an account? Sign up", new_registration_path %>

<% if Rails.env.development? %>
  <hr style="margin: 20px 0;">
  <h3>Development Sign In</h3>
  <%= form_with url: session_path, local: true, data: { turbo: false } do |form| %>
    <%= form.select :dev_user_email, 
        User.where(email_address: ["alice@example.com", "bob@example.com", "carol@example.com", "david@example.com", "eve@example.com"])
            .pluck(:name, :email_address)
            .map { |name, email| ["#{name} (#{email})", email] },
        { prompt: "Select a user to sign in as" },
        { style: "margin-bottom: 10px; width: 100%; padding: 8px;" } %>
    <br>
    <%= form.submit "Dev Sign In", style: "padding: 8px 16px;" %>
  <% end %>
<% end %>
